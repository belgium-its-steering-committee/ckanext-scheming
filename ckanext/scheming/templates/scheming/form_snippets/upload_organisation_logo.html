<div>
    <h1>ORGANISATIE LOGO!!!</h1>
</div>
{% import 'macros/form.html' as form %}

{% macro logo_upload(
    data,
    errors,
    field_url='logo_file',
    field_file='logo_upload',
    field_clear='clear_upload',
    is_upload_logo=true,
    is_upload_logo_enabled=true,
    field_label='logo_label',
    field_name="logo_name",
    previous_upload=false)
%}

{% set previous_upload = data['previous_upload'] %}
{% set is_upload_logo_enabled=true %}
{% set type = '' %}


{% if is_upload_logo_enabled %}
<div class="scheming-organisation_upload_logo"
    data-module="scheming-logo_upload"
    data-module-is_upload_logo="{{ 'true' if is_upload_logo else 'false'}}"
    data-module-field_upload="{{ field_file }}"
    data-module-field_url="{{ field_url }}"
    data-module-field_clear="{{ field_clear }}"
    data-module-upload_label="{{ field_label }}"
    data-module-field_name="{{ field_name }}"
    data-module-previous_upload="{{ 'true' if previous_upload else 'false' }}">
{% endif %}


{{ form.input(field_url, label=field_label, id="field-logo-file", type=type, value=data.get(field_file), error=errors.get(field_file), classes=['control-full'])  }}

{% if is_upload_logo_enabled%}
    {{ form.input(field_file, label=field_label, id="field-logo-upload", type="file", classes=['control-full'])}}
    {%if is_upload_logo%}
        {{ form.checkbox(field_clear, label=_('Clear Upload'), id="field-clear-upload", value="true", classes=['control-full'])}}
    {%endif%}
{%endif%}

{% if is_upload_logo_enabled %}
</div>
{%endif%}

{% endmacro %}

{% if (('organisation_Logo' in data) and (type=='file')) %}
    {% if ((request.path == '/organization/new') and (errors == {})) or (request.path != '/organization/new') %}
        {%- set is_upload_logo = false -%}
    {% endif %}
{%endif%}



{{ logo_upload(
    data,
    errors,
    field_name=field.field_name,
    field_file=field.upload_field,
    field_url=field.field_name,
    field_clear=field.upload_clear,
    is_upload_logo_enabled=h.uploads_enabled(),
    is_upload_logo=is_upload_logo,
    field_label=h.scheming_language_text(field.label),
    previous_upload=previous_upload
)
}}
{%- snippet 'scheming/form_snippets/help_text.html', field=field -%}